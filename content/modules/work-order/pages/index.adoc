= 工单

工单是运行时对象层次结构的一部分，其中包括工单项、批次和生产单元。这个关系可以包含:

* 工单，工单项，`Normal` 或 `Serialized` 批次, 生产单元。
* 工单，工单项，`Normal` 或 `Unserialized` 批次。

工单具有 `关闭类型` 属性，该属性确定用于在关闭其所有子对象时是否应关闭工单的规则。两种类型是:

* *按库存生产(Build To Stock)*：当所有工单项关闭时，BTS工单自动关闭。当已关闭的数量等于或大于正在进行的数量时，工单项关闭。如果只构建工单的一个子集，则应该使用这种类型的工作工单。当您必须在最后一刻调整正在构建的数量时，这种类型提供了灵活性。例如，构建的数量不同于订购或计划的数量，但您仍然希望能够关闭工作工单。

* *按工单生产(Build To Order)*：与BTS工单一样，当所有工单项都关闭时，BTO工单将自动关闭。但是，对于BTO工单，当工单项的订购数量等于或小于该工单项已关闭的总数量时，工单项将关闭。

NOTE: 工单的 `关闭类型` 只能在为该工作工单创建批次之前更改。一旦一个工单创建了批次，`关闭类型` 就不能修改了。

== 相关对象
工单与以下对象相关:

* 工单项
* 批次
* 生产单元


== 数据存储
有关工单的信息存储在以下数据库表中:

* WORK_ORDER
* TRACKED_OBJECT_HISTORY
* TRACKED_OBJECT_STATUS

== 工单浏览页面
由以下部分组成:

* *过滤器*

定义过滤条件，默认提供工单名称、描述过滤条件。也可以自定义配置过滤器。

* *功能按钮*

创建、编辑、删除、导出工单对象。

分页查询，修改每页显示行数。

* *数据列表*

显示工单对象所有属性。

* *关联对象*

显示关联对象。

image::work-order.png[align="center"]

== 工单编辑器
由以下部分组成:

* *属性*

定义工单属性。

* *工单项功能按钮*

添加、删除工单项对象。

* *工单项列表*

显示工单项对象。

image::work-order-editor.png[align="center"]

== 工单项编辑器
由以下部分组成:

* *属性*

定义工单项属性。


image::work-order-item-editor.png[align="center"]